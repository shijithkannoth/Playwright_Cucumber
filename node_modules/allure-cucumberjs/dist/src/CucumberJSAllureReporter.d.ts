import { Formatter } from "@cucumber/cucumber";
import { IFormatterOptions } from "@cucumber/cucumber/lib/formatter";
import { Allure, AllureRuntime } from "allure-js-commons";
export { Allure };
export type LabelMatcher = {
    pattern: RegExp[];
    name: "epic" | "severity" | string;
};
export type LinkMatcher = {
    pattern: RegExp[];
    urlTemplate: string;
    type: "tms" | "issue" | string;
};
export declare class CucumberJSAllureFormatterConfig {
    exceptionFormatter?: (message: string) => string;
    labels?: LabelMatcher[];
    links?: LinkMatcher[];
}
export declare class CucumberJSAllureFormatter extends Formatter {
    private readonly allureRuntime;
    private readonly currentTestsMap;
    private readonly hostname;
    private readonly afterHooks;
    private readonly beforeHooks;
    private readonly exceptionFormatter;
    private readonly labelsMatchers;
    private readonly linksMatchers;
    private readonly documentMap;
    private readonly scenarioMap;
    private readonly stepMap;
    private readonly testStepMap;
    private readonly pickleStepMap;
    private readonly testCaseTestStepsResults;
    private readonly pickleMap;
    private readonly hookMap;
    private readonly sourceMap;
    private readonly testCaseMap;
    private readonly testCaseStartedMap;
    private readonly allureSteps;
    constructor(options: IFormatterOptions, allureRuntime: AllureRuntime, config: CucumberJSAllureFormatterConfig);
    private get tagsIgnorePatterns();
    private parseEnvelope;
    private parseTagsLabels;
    private parseTagsLinks;
    private onGherkinDocument;
    private onRule;
    private onScenario;
    private onPickle;
    private onTestCase;
    private onTestCaseStarted;
    private onAttachment;
    private handleAllureAttachment;
    private onTestCaseFinished;
    private onHook;
    private onSource;
    private onTestStepStarted;
    private onTestStepFinished;
    private convertStatus;
}
